<div class="container-fluid caja-interior" [ngStyle]="{ 'background-color': '#DEDEDE', 'background-image': 'url(https://firebasestorage.googleapis.com/v0/b/ecatepecapp.appspot.com/o/webapp%2Ffondos%2Ffondo_generico.png?alt=media&token=5db26fee-d218-4eba-8174-ffb83d40ab71)' }">

	<!-- ================ 	EXISTE LOGIN		============== -->
	<!-- ========================================================== -->
		<div class="row p-3 p-md-5 justify-content-center">
			<mat-card class="shadow mb-3 animated fadeInUp">
					<button mat-raised-button class="align-self-center" color="accent" routerLink="/peticiones-formulario">
						<mat-icon class="mr-3">insert_drive_file</mat-icon> Crear nueva petición
					</button>
			</mat-card>
		</div>

		
		
		<div *ngIf="datosPeticiones; else sinDatos" class="mt-3">
			<mat-card *ngIf="datosPeticiones.length" class="shadow mb-3">
				<p>
				Bienvenido <b>{{usuarioNombre}}</b>, aquí podrás revisar las peticiones que hallas generado.
				</p>

				<div class="row mb-3">
					<div class="col-6 col-md-3 offset-md-6">
						<button class="d-block w-100" mat-raised-button (click)="accordion.openAll()" color="accent">Expandir<span class="d-none d-md-inline"> todos</span></button>
					</div>
					<div class="col-6 col-md-3">
						<button class="d-block w-100" mat-raised-button (click)="accordion.closeAll()" color="accent">Contraer<span class="d-none d-md-inline"> todos</span></button>
					</div>
				</div>


				<mat-accordion class="example-headers-align" multi>
					<mat-expansion-panel *ngFor="let item of datosPeticiones">
						<mat-expansion-panel-header>
							<mat-panel-title>
								<mat-icon>insert_drive_file</mat-icon> {{item.folio}}
							</mat-panel-title>

							<mat-panel-description>
							</mat-panel-description>
						</mat-expansion-panel-header>

						<div class="row">
							<div class="col-12 col-md-6">
								<p>
									<!-- folio: {{ item.folio }}<br> -->
									Nombre completo: {{ item.nombreCompleto }}<br>
									Correo electrónico: {{ item.correo }}<br>
									Teléfono: {{ item.telefono }}<br>
									Dirección: {{ item.calleNumero }}<br>
									Colonia: {{ item.colonia }}<br>
									Codigo Postal: {{ item.codigoPostal }}<br>
									Destinatario: {{ item.destinatario }}<br>
									Mensaje: {{ item.mensaje }}<br>
								</p>
							</div>
							<div class="col-12 col-md-">
								<p *ngIf="item.coordenadas">
									<a target="_blank" href="https://maps.google.com/?q={{item.coordenadas.lat}},{{item.coordenadas.lng}}">
										Enlace a ubicación en el mapa.
									</a>
								</p>

								<ul>
									<li *ngFor="let archivo of item.archivosArray">
										<a target="_blank" href="{{archivo.url}}">
											{{ archivo.nombre }}
										</a>
									</li>
								</ul>
							</div>
						</div>

					</mat-expansion-panel>
				</mat-accordion>
			</mat-card>
		</div>

		<ng-template #sinDatos>
			<mat-card class="shadow mb-3">
				<div class="alert alert-success text-center">
					<div class="d-flex align-items-center justify-content-center">
							<mat-icon class="mr-3">info</mat-icon> <span>Aún no tienes peticiones que monitorear.</span>
					</div>
				</div>
			</mat-card>
		</ng-template>
</div>
