<div class="container-fluid caja-interior p-1 p-md-5"
	[ngStyle]="{ 'background-color': '#DEDEDE', 'background-image': 'url(https://firebasestorage.googleapis.com/v0/b/ecatepecapp.appspot.com/o/webapp%2Ffondos%2Ffondo_generico.png?alt=media&token=5db26fee-d218-4eba-8174-ffb83d40ab71)' }">


	<div class="container">

		<div class="row">
			<div class="col-12 p-0 m-0 pt-2 pt-md-5">
				<div class="card mb-3 mb-md-5 shadow-sm animated fadeInUp">
					<div class="card-header bg-primary text-light">
						<b>Servicio de grua gratuito</b>
					</div>

					<div class="card-body p-3 p-md-5">

						<div class="text-right p-3" *ngIf="mostrarFolio"><small>folio:
								{{ usuarioPerfilGio.folio }}</small></div>

						<form name="form" [formGroup]="formGroupPeticiones" #formDirectivePeticiones="ngForm">

							<div class="row">
								<div class="col-12">
									<mat-form-field appearance="outline" class="d-block w-100">
										<mat-label>Nombre completo</mat-label>
										<input matInput formControlName="nombre" required>
										<mat-icon matSuffix class="text-primary">account_circle</mat-icon>
										<mat-error>El nombre es requerido</mat-error>
									</mat-form-field>
								</div>



								<div class="col-12">
									<mat-form-field appearance="outline" class="d-block w-100">
										<mat-label>Correo electrónico</mat-label>
										<input matInput formControlName="email" required>
										<mat-icon matSuffix class="text-primary">email</mat-icon>
										<mat-error>El correo es un campo requerido</mat-error>
									</mat-form-field>
								</div>


								<div class="col-12">
									<mat-form-field appearance="outline" class="d-block w-100">
										<mat-label>Teléfonos</mat-label>
										<input matInput formControlName="telefonos" required>
										<mat-icon matSuffix class="text-primary">local_phone</mat-icon>
										<mat-error>Los teléfonos es un campo requerido</mat-error>
									</mat-form-field>
								</div>

							</div>


							<div class="row">
								<div class="col-12">
									<mat-form-field appearance="outline" class="d-block w-100">
										<mat-label>Dirección</mat-label>
										<input matInput formControlName="direccion" required>
										<mat-icon matSuffix class="text-primary">location_city</mat-icon>
										<mat-error>Debe especificar este campo</mat-error>
									</mat-form-field>
								</div>
							</div>


							<div class="row p-0">
								<div class="col-12 p-3">
									<b>Mande ubicación y fotografía del vehículo averiado.</b>
								</div>
							</div>

							<div class="row p-0">
								<div class="col-12 col-md-6 p-3 pt-0">
									<button mat-raised-button type="button" color="accent"
										(click)="llamarMarcarUbicacion()" class="d-block w-100">
										<mat-icon matSuffix>location_on</mat-icon>
										Indicar ubicación
									</button>
								</div>

								<div class="col-12 col-md-6 p-3 pt-0">
									<input hidden type="file" (change)="adjuntarArchivo($event)" #archivoInput />
									<button mat-raised-button type="button" color="accent"
										(click)="archivoInput.click()" class="d-block w-100">
										<mat-icon matSuffix>attach_file</mat-icon>
										Cargar fotos
									</button>
								</div>
							</div>


							<div class="row mb-3">
								<div class="col-12">
									<div class="alert alert-success" role="alert"
										*ngIf="formGroupPeticiones.value.coordenadas.lat">
										<div class="col-12">
											Ubicación: {{ formGroupPeticiones.value.coordenadas.lat }},
											{{ formGroupPeticiones.value.coordenadas.lng }}
										</div>
									</div>
									<div class="alert alert-secondary" role="alert">
										<div class="p-1" *ngFor="let archivo of archivosLista">
											<div *ngIf="archivo">
												<small>
													<mat-icon
														*ngIf='archivo.type=="image/jpeg" || archivo.type=="image/gif" || archivo.type=="image/png"'>
														insert_photo</mat-icon>
													<a href="{{ archivo.url }}"
														target="_blank"><b>{{ archivo.nombre }}</b>
														({{ archivo.size }})Kb </a>
												</small>
											</div>
										</div>

										<mat-progress-bar *ngIf="subidaEnCurso?.active" mode="determinate"
											color="accent" value="{{ subidaEnCurso?.progress }}"
											class="p-1 d-block w-100"></mat-progress-bar>
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-12">
									<mat-form-field appearance="outline" class="d-block w-100">
										<mat-label>Datos adicionales</mat-label>
										<textarea matInput formControlName="descripcion" required>
									</textarea>
										<mat-error>Los datos adicionales es un campo requerido</mat-error>
									</mat-form-field>
								</div>
							</div>


							<div class="row">
								<div class="col-8 col-md-4 offset-4 offset-md-8">
									
									<!-- <button mat-raised-button color="accent" [disabled]="formGroupPeticiones.invalid"  (click)="procesarFormulario(formulario)" class="d-block w-100"> -->
									<button mat-raised-button color="accent" (click)="procesarFormulario(formulario)"
										class="d-block w-100">
										<mat-icon matSuffix>send</mat-icon>
										Envíar
									</button>
								</div>
							</div>
						</form>
					</div>




				</div>
			</div>
		</div>
	</div>


</div>